<!DOCTYPE html><html lang=en> <head><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Overpass:300,400,600,800"><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><link href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css rel=stylesheet integrity=sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T crossorigin=anonymous><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script><link rel=stylesheet type=text/css href=schema_doc.css><script src=https://use.fontawesome.com/facf9fa52c.js></script><script src=schema_doc.min.js></script><meta charset=utf-8><title>Query Tracking for UBI</title></head> <body onload=anchorOnLoad(); id=root><div class=text-right> <button class="btn btn-primary" type=button data-toggle=collapse data-target=.collapse:not(.show) aria-expanded=false>Expand all</button> <button class="btn btn-primary" type=button data-toggle=collapse data-target=.collapse.show aria-expanded=false>Collapse all</button> </div> <div class=breadcrumbs></div> <h1>Query Tracking for UBI</h1><span class="badge badge-dark value-type">Type: object</span><br> <span class=description><p>Version 1.2.0; last updated 2024-10-24. A query made by a user should include these attributes for UBI tracking.</p> </span> <div class=accordion id=accordionapplication> <div class=card> <div class=card-header id=headingapplication> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#application aria-expanded aria-controls=application onclick="setAnchor('#application')"><span class=property-name>application</span></button> </h2> </div> <div id=application class="collapse property-definition-div" aria-labelledby=headingapplication data-parent=#accordionapplication> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#application onclick="anchorLink('application')">application</a></div><span class="badge badge-dark value-type">Type: string</span><br> <span class=description><p>Name of the application that is integrated with UBI. You can think of application as in a source of search queries. For example, if you have a type ahead and a traditional search UI, then you might have <code>type-ahead</code> and <code>primary-search</code> as values.</p> </span> <p><span class="badge badge-light restriction max-length-restriction" id=application_maxLength>Must be at most <code>100</code> characters long</span></p> <br> <div class="badge badge-secondary">Examples:</div> <br><div id=application_ex1 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;type-ahead&quot;</span>
</pre></div> </div><div id=application_ex2 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;primary-search&quot;</span>
</pre></div> </div><div id=application_ex3 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;amazon-shop&quot;</span>
</pre></div> </div><div id=application_ex4 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;ABC-microservice&quot;</span>
</pre></div> </div><div id=application_ex5 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;doctor-search&quot;</span>
</pre></div> </div> </div> </div> </div> </div> <div class=accordion id=accordionquery_id> <div class=card> <div class=card-header id=headingquery_id> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#query_id aria-expanded aria-controls=query_id onclick="setAnchor('#query_id')"><span class=property-name>query_id</span></button> </h2> </div> <div id=query_id class="collapse property-definition-div" aria-labelledby=headingquery_id data-parent=#accordionquery_id> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id onclick="anchorLink('query_id')">query_id</a></div><br> <span class=description><p>The unique identifier of a query, typically a UUID, but can be any string.</p> </span><div class=one-of-value id=query_id_oneOf><h2 class=handle> <label>One of</label> </h2><ul class="nav nav-tabs" id=tabsquery_id_oneOf_oneOf role=tablist><li class=nav-item> <a class="nav-link active oneOf-option" id=query_id_oneOf_i0 data-toggle=tab href=#tab-pane_query_id_oneOf_i0 role=tab onclick="setAnchor('#query_id_oneOf_i0')">Option 1</a> </li><li class=nav-item> <a class="nav-link oneOf-option" id=query_id_oneOf_i1 data-toggle=tab href=#tab-pane_query_id_oneOf_i1 role=tab onclick="setAnchor('#query_id_oneOf_i1')">Option 2</a> </li></ul> <div class="tab-content card"><div class="tab-pane fade card-body active show" id=tab-pane_query_id_oneOf_i0 role=tabpanel> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id onclick="anchorLink('query_id')">query_id</a> <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id_oneOf onclick="anchorLink('query_id_oneOf')">oneOf</a> <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id_oneOf_i0 onclick="anchorLink('query_id_oneOf_i0')">item 0</a></div><span class="badge badge-dark value-type">Type: string</span><span class="badge badge-info value-type">Format: uuid</span><br> <br> <div class="badge badge-secondary">Example:</div> <br><div id=query_id_oneOf_i0_ex1 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;00112233-4455-6677-8899-aabbccddeeff&quot;</span>
</pre></div> </div> </div><div class="tab-pane fade card-body " id=tab-pane_query_id_oneOf_i1 role=tabpanel> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id onclick="anchorLink('query_id')">query_id</a> <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id_oneOf onclick="anchorLink('query_id_oneOf')">oneOf</a> <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_id_oneOf_i1 onclick="anchorLink('query_id_oneOf_i1')">item 1</a></div><span class="badge badge-dark value-type">Type: string</span><br> <p><span class="badge badge-light restriction max-length-restriction" id=query_id_oneOf_i1_maxLength>Must be at most <code>100</code> characters long</span></p> <br> <div class="badge badge-secondary">Example:</div> <br><div id=query_id_oneOf_i1_ex1 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;1234-user-5678&quot;</span>
</pre></div> </div> </div></div></div> </div> </div> </div> </div> <div class=accordion id=accordionclient_id> <div class=card> <div class=card-header id=headingclient_id> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#client_id aria-expanded aria-controls=client_id onclick="setAnchor('#client_id')"><span class=property-name>client_id</span></button> </h2> </div> <div id=client_id class="collapse property-definition-div" aria-labelledby=headingclient_id data-parent=#accordionclient_id> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#client_id onclick="anchorLink('client_id')">client_id</a></div><span class="badge badge-dark value-type">Type: string</span><br> <span class=description><p>The client issuing the query. This could be a unique browser, a microservice that performs searches, a crawling bot. If only authenticated users are tracked, then you could use a specific user id here, otherwise you should use something permanent and track user id as an <em>Additional Property</em>.</p> </span> <p><span class="badge badge-light restriction max-length-restriction" id=client_id_maxLength>Must be at most <code>100</code> characters long</span></p> <br> <div class="badge badge-secondary">Examples:</div> <br><div id=client_id_ex1 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;5e3b2a1c-8b7d-4f2e-a3d4-c9b2e1f3a4b5&quot;</span>
</pre></div> </div><div id=client_id_ex2 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;quepid-nightly-bot&quot;</span>
</pre></div> </div><div id=client_id_ex3 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;BugsBunny::Firefox@0967084&quot;</span>
</pre></div> </div> </div> </div> </div> </div> <div class=accordion id=accordionuser_query> <div class=card> <div class=card-header id=headinguser_query> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#user_query aria-expanded aria-controls=user_query onclick="setAnchor('#user_query')"><span class=property-name>user_query</span> <span class="badge badge-warning required-property">Required</span></button> </h2> </div> <div id=user_query class="collapse property-definition-div" aria-labelledby=headinguser_query data-parent=#accordionuser_query> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#user_query onclick="anchorLink('user_query')">user_query</a></div><span class="badge badge-dark value-type">Type: string</span><br> <span class=description><p>The query as the user entered it. No length limit specified.</p> </span> </div> </div> </div> </div> <div class=accordion id=accordionquery_attributes> <div class=card> <div class=card-header id=headingquery_attributes> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#query_attributes aria-expanded aria-controls=query_attributes onclick="setAnchor('#query_attributes')"><span class=property-name>query_attributes</span></button> </h2> </div> <div id=query_attributes class="collapse property-definition-div" aria-labelledby=headingquery_attributes data-parent=#accordionquery_attributes> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_attributes onclick="anchorLink('query_attributes')">query_attributes</a></div><span class="badge badge-dark value-type">Type: object</span><br> <span class=description><p>Any query modifiers like filter choices or pagination. Other attributes such as experiment identifiers that need to be tracked with the query.</p> </span> <div class=accordion id=accordionquery_attributes_additionalProperties> <div class=card> <div class=card-header id=headingquery_attributes_additionalProperties> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#query_attributes_additionalProperties aria-expanded aria-controls=query_attributes_additionalProperties onclick="setAnchor('#query_attributes_additionalProperties')"><em><span class=property-name>Additional Properties</span></em></button> </h2> </div> <div id=query_attributes_additionalProperties class="collapse property-definition-div" aria-labelledby=headingquery_attributes_additionalProperties data-parent=#accordionquery_attributes_additionalProperties> <div class="card-body pl-5"><p class=additional-properties>Additional Properties of any type are allowed.</p> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_attributes onclick="anchorLink('query_attributes')">query_attributes</a> <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#query_attributes_additionalProperties onclick="anchorLink('query_attributes_additionalProperties')">additionalProperties</a></div><span class="badge badge-dark value-type">Type: object</span><br> </div> </div> </div> </div> </div> </div> </div> </div> <div class=accordion id=accordionobject_id_field> <div class=card> <div class=card-header id=headingobject_id_field> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#object_id_field aria-expanded aria-controls=object_id_field onclick="setAnchor('#object_id_field')"><span class=property-name>object_id_field</span></button> </h2> </div> <div id=object_id_field class="collapse property-definition-div" aria-labelledby=headingobject_id_field data-parent=#accordionobject_id_field> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#object_id_field onclick="anchorLink('object_id_field')">object_id_field</a></div><span class="badge badge-dark value-type">Type: string</span><br> <span class=description><p>The name of the field that has the id of the objects that will be stored in the backend queries data store. So it you have a query for products and want to save the SKUs, then this might be <code>sku</code> and if you are querying for people, maybe this is <code>ssn</code>. If you do not provide this value then the default primary identifier in your search index will be used. For example <code>_id</code> on OpenSearch. </p> </span> <p><span class="badge badge-light restriction max-length-restriction" id=object_id_field_maxLength>Must be at most <code>100</code> characters long</span></p> </div> </div> </div> </div> <div class=accordion id=accordiontimestamp> <div class=card> <div class=card-header id=headingtimestamp> <h2 class=mb-0> <button class="btn btn-link property-name-button" type=button data-toggle=collapse data-target=#timestamp aria-expanded aria-controls=timestamp onclick="setAnchor('#timestamp')"><span class=property-name>timestamp</span></button> </h2> </div> <div id=timestamp class="collapse property-definition-div" aria-labelledby=headingtimestamp data-parent=#accordiontimestamp> <div class="card-body pl-5"> <div class=breadcrumbs>root <svg width=1em height=1em viewbox="0 0 16 16" class="bi bi-arrow-right-short" fill=currentColor xmlns=http://www.w3.org/2000/svg> <path fill-rule=evenodd d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/> </svg> <a href=#timestamp onclick="anchorLink('timestamp')">timestamp</a></div><span class="badge badge-dark value-type">Type: string</span><span class="badge badge-info value-type">Format: date-time</span><br> <span class=description><p>When the query was issued. This timestamp is formatted according to the ISO 8601 standard. In many implementations of the UBI Query plugin the timestamp will be set for you at the time of the query being run. If you are replaying data, or want to track the timezone of the caller specifically, instead of using the search engine&#39;s timezone, then you will need to provide the timestamp instead. <em>Please note that Opensearch requires a trailing <code>Z</code> or explicit timezone offset.</em></p> </span> <br> <div class="badge badge-secondary">Examples:</div> <br><div id=timestamp_ex1 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;2018-11-13T20:20:39+00:00&quot;</span>
</pre></div> </div><div id=timestamp_ex2 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;2018-11-13T20:20:39Z&quot;</span>
</pre></div> </div><div id=timestamp_ex3 class="jumbotron examples"><div class=highlight><pre><span></span><span class=s2>&quot;2018-11-13T20:20:39&quot;</span>
</pre></div> </div> </div> </div> </div> </div> <footer> <p class=generated-by-footer>Generated using <a href=https://github.com/coveooss/json-schema-for-humans>json-schema-for-humans</a> on 2024-11-18 at 11:01:52 -0500</p> </footer></body> </html>